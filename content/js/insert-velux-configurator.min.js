var generalSettings;function loadConfigurator(f){var g=f.directory,j=0;if(g.match(/\/\//gi)){g=g.split("//");f.directory="//"+g[1]}else{if(g.charAt(0)=="/"){}else{if(!g.match(/\/\//gi)){f.directory="//"+f.directory}}}if(f.directory.charAt(f.directory.length-1)!="/"){f.directory+="/"}f.target=(f.target===undefined)?"#mmc__InsertConfigurator":f.target;f.directory=(f.directory===undefined)?"/":f.directory;f.skin=(f.skin===undefined)?"veluxshop":f.skin;f.language=(f.language===undefined)?"en":f.language;f.did="//"+location.hostname+"/";f.cid=f.clientID;f.showDealerButton=(f.showDealerButton===undefined)?false:f.showDealerButton;f.showShopButton=(f.showShopButton===undefined)?true:f.showShopButton;f.showPrintButton=(f.showPrintButton===undefined)?false:f.showPrintButton;f.showMailButton=(f.showMailButton===undefined)?false:f.showMailButton;f.dealerTarget=(f.dealerTarget===undefined)?"_blank":f.dealerTarget;f.shopTarget=(f.shopTarget===undefined)?"_self":f.shopTarget;f.basketType=(f.basketType===undefined)?"veluxshop":f.basketType;f.environment=(f.environment===undefined)?"":(f.environment=="production")?"":"qa";f.min=(f.min===undefined)?true:f.min;function e(){var k=document.createElement("script");k.type="text/javascript";k.src=f.directory+"content/js/jquery-1.9.1.min.js";document.getElementsByTagName("head")[0].appendChild(k)}if(typeof jQuery=="undefined"){e()}else{if(typeof jQuery!="undefined"&&jQuery().jquery<"1.9"){var c=document.createElement("script");c.type="text/javascript";c.text="jQuery.noConflict(true);";document.getElementsByTagName("head")[0].appendChild(c);e()}}function d(o,k,n){var m=[];$.each(document.getElementsByTagName("link"),function(p,r){var q=$(r).attr("href");if(q){m.push(q.slice(q.lastIndexOf("/")+1,q.lastIndexOf(".")))}});var l=document.createElement("link");l.rel="stylesheet";l.type="text/css";l.href=o+"/"+k;l.media=n;if(typeof l!="undefined"&&$.inArray(k,m)==-1){document.getElementsByTagName("head")[0].appendChild(l)}}function i(){(function(n,k,o){var m="//"+f.environment+"configurator.veluxshop.com/?option=com_configurator",l="&baseurl="+f.directory+"&lang="+f.language+"&did="+f.did+"&cid="+f.cid+"&dealerurl="+f.dealerURL+"&dealertarget="+f.dealerTarget+"&shoptarget="+f.shopTarget;o.getScript(f.directory+"content/js/jQuery.XDomainRequest.js",function(){o.support.cors=true;o.ajax({dataType:"html",type:"POST",url:m+l,success:function(u){var s=f.directory+"content/",p=["js/knockout-2.2.1.js","js/chosen/chosen.jquery.min.js","js/shadowbox/shadowbox.js"],w=0,t=0,q=o("<div />");if(f.min==false){p.push("js/velux-configurator-lib.js");p.push("js/velux-configurator-rules.js")}q.append(u);q.find("#mmc__AddToBasket").attr("action",f.returnURL);o(f.target).append(q.find("#mmc__Configurator"));q=null;h();d(s+"css","velux-configurator.css","screen");d(s+"css","velux-configurator.print.css","print");d(s+"css","skin-"+f.skin+".css","screen");o.each(p,function(x,y){o.getScript(s+y,function(){w++})});function v(){t++;if(w==p.length){r()}else{if(t<100){setTimeout(v,100)}else{b()}}}v();function r(){if(f.min==false){o.getScript(s+"js/velux-configurator.js")}else{o.getScript(s+"js/velux-configurator.min.js")}}}})})})(window,document,jQuery)}function b(){var k=confirm("The page has taken too long to load, please try again.");if(k==true){location.reload()}else{return}}function h(){generalSettings=f}function a(){j++;if(typeof jQuery!="undefined"){i();return}if(j<100){setTimeout(a,100)}return}a()};