var generalSettings;function loadConfigurator(e){var f=e.directory,j=0;if(f.match(/\/\//gi)){f=f.split("//");e.directory="//"+f[1]}else{if(f.charAt(0)=="/"){}else{if(!f.match(/\/\//gi)){e.directory="//"+e.directory}}}if(e.directory.charAt(e.directory.length-1)!="/"){e.directory+="/"}e.target=(e.target===undefined)?"#mmc__InsertConfigurator":e.target;e.directory=(e.directory===undefined)?"/":e.directory;e.illustrationsDirectory=(e.illustrationsDirectory===undefined)?"/":e.illustrationsDirectory;e.coloursDirectory=(e.coloursDirectory===undefined)?"/":e.coloursDirectory;e.skin=(e.skin===undefined)?"veluxshop":e.skin;e.language=(e.language===undefined)?"en":e.language;e.did="//"+location.hostname+"/";e.cid=e.clientID;e.showDealerButton=(e.showDealerButton===undefined)?false:e.showDealerButton;e.showShopButton=(e.showShopButton===undefined)?true:e.showShopButton;e.showPrintButton=(e.showPrintButton===undefined)?false:e.showPrintButton;e.showMailButton=(e.showMailButton===undefined)?false:e.showMailButton;e.dealerTarget=(e.dealerTarget===undefined)?"_blank":e.dealerTarget;e.shopTarget=(e.shopTarget===undefined)?"_self":e.shopTarget;e.basketType=(e.basketType===undefined)?"veluxshop":e.basketType;e.environment=(e.environment===undefined)?"//configurator.veluxshop.com/":e.environment;if(e.environment=="production"){e.environment="//configurator.veluxshop.com/"}else{if(e.environment=="test"){e.environment="//qaconfigurator.veluxshop.com/"}else{if(e.environment=="localhost"){e.environment="//localhost/mmc/"}else{if(e.environment=="veluxshop"){e.environment=location.origin+location.pathname+"/"}}}}e.min=(e.min===undefined)?true:e.min;e.disableRules=(e.disableRules===undefined)?false:e.disableRules;e.formMethod=(e.formMethod===undefined)?"POST":e.formMethod;e.returnFunc=(e.returnFunc===undefined)?null:e.returnFunc;e.loadingTitle=(e.loadingTitle===undefined)?"":e.loadingTitle;e.loadingSubtitle=(e.loadingSubtitle===undefined)?"":e.loadingSubtitle;e.percentDiscount=(e.percentDiscount===undefined)?null:e.percentDiscount;e.percentDiscountAddOnPleated=(e.percentDiscountAddOnPleated===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountAddOnPleated;e.percentDiscountAwning=(e.percentDiscountAwning===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountAwning;e.percentDiscountBlackout=(e.percentDiscountBlackout===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountBlackout;e.percentDiscountDuo=(e.percentDiscountDuo===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountDuo;e.percentDiscountEnergy=(e.percentDiscountEnergy===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountEnergy;e.percentDiscountFlatroofAwning=(e.percentDiscountFlatroofAwning===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountFlatroofAwning;e.percentDiscountFlatroofEnergy=(e.percentDiscountFlatroofEnergy===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountFlatroofEnergy;e.percentDiscountFlatroofPleated=(e.percentDiscountFlatroofPleated===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountFlatroofPleated;e.percentDiscountInsectNet=(e.percentDiscountInsectNet===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountInsectNet;e.percentDiscountPleated=(e.percentDiscountPleated===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountPleated;e.percentDiscountRoller=(e.percentDiscountRoller===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountRoller;e.percentDiscountShutters=(e.percentDiscountShutters===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountShutters;e.percentDiscountVenetian=(e.percentDiscountVenetian===undefined)?(e.percentDiscount)?e.percentDiscount:null:e.percentDiscountVenetian;e.onBeforeLoad=(e.onBeforeLoad===undefined)?function(){return}:e.onBeforeLoad;e.onAfterLoad=(e.onAfterLoad===undefined)?function(){return}:e.onAfterLoad;e.onBeforeInit=(e.onBeforeInit===undefined)?function(){return}:e.onBeforeInit;e.onAfterInit=(e.onAfterInit===undefined)?function(){return}:e.onAfterInit;e.onBeforeUpdate=(e.onBeforeUpdate===undefined)?function(){return}:e.onBeforeUpdate;e.onAfterUpdate=(e.onAfterUpdate===undefined)?function(){return}:e.onAfterUpdate;e.onBeforeSwitchStep=(e.onBeforeSwitchStep===undefined)?function(){return}:e.onBeforeSwitchStep;e.onAfterSwitchStep=(e.onAfterSwitchStep===undefined)?function(){return}:e.onAfterSwitchStep;e.onBeforeAddToBasket=(e.onBeforeAddToBasket===undefined)?function(){return}:e.onBeforeAddToBasket;e.onAfterAddToBasket=(e.onAfterAddToBasket===undefined)?function(){return}:e.onAfterAddToBasket;e.onBeforeLoad();function d(){var k=document.createElement("script");k.type="text/javascript";k.src=e.directory+"content/js/jquery-1.9.1.min.js";document.getElementsByTagName("head")[0].appendChild(k)}if(typeof jQuery=="undefined"){d()}else{if(typeof jQuery!="undefined"&&jQuery().jquery<"1.9"){var g=jQuery.noConflict(true);d()}}function c(o,k,n){var m=[];$.each(document.getElementsByTagName("link"),function(p,r){var q=$(r).attr("href");if(q){m.push(q.slice(q.lastIndexOf("/")+1,q.lastIndexOf(".")))}});var l=document.createElement("link");l.rel="stylesheet";l.type="text/css";l.href=o+"/"+k;l.media=n;if(typeof l!="undefined"&&$.inArray(k,m)==-1){document.getElementsByTagName("head")[0].appendChild(l)}}function i(){(function(p,k,q){var o=e.environment+"?option=com_configurator&view=blinds",m="&baseurl="+e.directory+"&imagesDirectory="+e.imagesDirectory+"&lang="+e.language+"&did="+e.did+"&cid="+e.cid+"&dealerurl="+e.dealerURL+"&dealertarget="+e.dealerTarget+"&shoptarget="+e.shopTarget+"&formmethod="+e.formMethod,n=e.directory+"content/";c(n+"css","velux-configurator.css","screen");c(n+"css","velux-configurator.print.css","print");c(n+"css","skin-"+e.skin+".css","screen");if(e.loadingTitle){e.loading=q('<div id="mmc__LoadingConfigurator"></div>').append('<div class="mmc__loadingTitle">'+e.loadingTitle+"</div>").append('<div class="mmc__loadingSubTitle">'+e.loadingSubtitle+"</div>").append('<div class="mmc__loadingIcon">&nbsp;</div>').show();q(e.target).prepend(e.loading)}if(navigator.userAgent.match(/MSIE/gi)&&p.XDomainRequest){var l=new XDomainRequest();l.open("POST",o+m);l.onload=function(){r(l.responseText)};l.send()}else{q.ajax({dataType:"html",type:"POST",url:o+m,success:function(s){r(s)}})}function r(w){var s=["js/knockout-2.2.1.js","js/chosen/chosen.jquery.min.js","js/shadowbox/shadowbox.js"],y=0,v=0,t=q("<div />");if(e.min==false){s.push("js/velux-configurator-lib.js");s.push("js/velux-configurator-rules.js")}t.append(w);t.find("#mmc__AddToBasket").attr("action",e.returnURL);q(e.target).append(t.find("#mmc__Configurator"));t=null;if(e.loadingTitle){q(e.target).find("#mmc__Configurator #mmc__LoadingConfigurator").remove()}h();q.each(s,function(z,A){q.getScript(n+A,function(){y++})});function x(){v++;if(y==s.length){u()}else{if(v<100){setTimeout(x,100)}else{b()}}}x();function u(){if(e.min==false){q.getScript(n+"js/velux-configurator.js")}else{q.getScript(n+"js/velux-configurator.min.js")}}e.onAfterLoad()}})(window,document,jQuery);if(g){$=g;jQuery=g;delete g}}function b(){var k=confirm("The page has taken too long to load, please try again.");if(k==true){location.reload()}else{return}}function h(){generalSettings=e}function a(){j++;if(typeof jQuery!="undefined"){i();return}if(j<100){setTimeout(a,100)}return}a()};